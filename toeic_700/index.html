<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TOEIC 700 Booster</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 3px;
        }

        /* Glassmorphism utilities */
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gold-text {
            background: linear-gradient(135deg, #fbbf24 0%, #d97706 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-press {
            transition: transform 0.1s;
        }
        .btn-press:active {
            transform: scale(0.96);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // ==========================================
        // DATA STORE (Easy to Expand)
        // ==========================================
        
        // 単語データの構造: level (600, 730, 860), word, meaning, choices (wrong answers)
        const VOCAB_DATA = [
            { id: 'v1', level: 600, word: "significant", meaning: "かなりの、重要な", type: "vocab", choices: ["一時的な", "微細な", "疑わしい"] },
            { id: 'v2', level: 600, word: "appointment", meaning: "約束、予約、任命", type: "vocab", choices: ["失望", "許可", "評価"] },
            { id: 'v3', level: 730, word: "tentative", meaning: "仮の、暫定的な", type: "vocab", choices: ["断定的な", "永久の", "高価な"] },
            { id: 'v4', level: 730, word: "comply", meaning: "（規則などに）従う", type: "vocab", choices: ["不満を言う", "完了する", "比較する"] },
            { id: 'v5', level: 860, word: "imminent", meaning: "差し迫った", type: "vocab", choices: ["無関係な", "巨大な", "不変の"] },
            { id: 'v6', level: 860, word: "lucrative", meaning: "儲かる、利益の上がる", type: "vocab", choices: ["不運な", "創造的な", "緩やかな"] },
            { id: 'v7', level: 600, word: "inventory", meaning: "在庫、棚卸し", type: "vocab", choices: ["投資", "招待状", "発明"] },
            { id: 'v8', level: 730, word: "reimburse", meaning: "払い戻す", type: "vocab", choices: ["再利用する", "強化する", "輸入する"] },
            { id: 'v9', level: 600, word: "proposal", meaning: "提案", type: "vocab", choices: ["処分", "目的", "反対"] },
            { id: 'v10', level: 730, word: "itinerary", meaning: "旅程表", type: "vocab", choices: ["日記", "入り口", "要約"] },
            // ここにデータを追加できます
        ];

        // リーディング（Part 5形式）
        const READING_DATA = [
            { 
                id: 'r1', 
                type: 'reading',
                question: "Ms. Tanaka _______ the budget proposal before the meeting started.", 
                choices: ["reviewed", "reviewing", "reviews", "review"], 
                correct: 0, 
                explanation: "「before...」の時点で過去の話。主語に対する動詞が必要で、時制は過去形が適切。" 
            },
            { 
                id: 'r2', 
                type: 'reading',
                question: "The new software is _______ easier to use than the old one.", 
                choices: ["significantly", "significant", "significance", "signify"], 
                correct: 0, 
                explanation: "比較級 easier を修飾するのは副詞。" 
            },
            { 
                id: 'r3', 
                type: 'reading',
                question: "Despite _______ hard, the team could not meet the deadline.", 
                choices: ["working", "work", "worked", "works"], 
                correct: 0, 
                explanation: "Despite は前置詞なので、後ろには名詞または動名詞(ing)がくる。" 
            }
        ];

        // リスニング（TTS使用）
        const LISTENING_DATA = [
            {
                id: 'l1',
                type: 'listening',
                script: "Where did you put the monthly report?", // TTSで読まれる
                options: [
                    "It's on your desk.",
                    "At 3 o'clock.",
                    "Yes, I did."
                ],
                correct: 0,
                explanation: "場所(Where)を聞いているので、場所を示しているAが正解。"
            },
            {
                id: 'l2',
                type: 'listening',
                script: "Why hasn't the shipment arrived yet?",
                options: [
                    "No, I haven't.",
                    "Because of the heavy snow.",
                    "Usually by truck."
                ],
                correct: 1,
                explanation: "理由(Why)を聞いているので、原因を説明しているBが正解。"
            }
        ];

        // ==========================================
        // UTILS
        // ==========================================
        
        const speak = (text) => {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel(); // 前の音声をキャンセル
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 1.0; // 通常速度
                // 英語の声を探す（iOS/Androidで自然な声を選ぶ）
                const voices = window.speechSynthesis.getVoices();
                const enVoice = voices.find(v => v.lang === 'en-US' && v.name.includes('Samantha')) || voices.find(v => v.lang === 'en-US');
                if (enVoice) utterance.voice = enVoice;
                window.speechSynthesis.speak(utterance);
            }
        };

        const shuffleArray = (array) => {
            return array.map(value => ({ value, sort: Math.random() }))
                        .sort((a, b) => a.sort - b.sort)
                        .map(({ value }) => value);
        };

        // ==========================================
        // COMPONENTS
        // ==========================================

        const ProgressBar = ({ current, total, color = "bg-yellow-500" }) => (
            <div className="w-full bg-slate-800 rounded-full h-2.5 mb-4">
                <div className={`${color} h-2.5 rounded-full transition-all duration-300`} style={{ width: `${(current / total) * 100}%` }}></div>
            </div>
        );

        const Header = ({ title, sub, onBack }) => (
            <div className="flex items-center justify-between p-4 glass-panel sticky top-0 z-10 border-b-0 border-slate-700">
                <div className="flex items-center gap-3">
                    {onBack && (
                        <button onClick={onBack} className="p-2 rounded-full hover:bg-slate-700 transition">
                            <i data-lucide="arrow-left" className="w-6 h-6 text-slate-300"></i>
                        </button>
                    )}
                    <div>
                        <h1 className="text-lg font-bold text-slate-100">{title}</h1>
                        {sub && <p className="text-xs text-slate-400">{sub}</p>}
                    </div>
                </div>
                <div className="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center border border-slate-600">
                    <span className="text-xs font-bold text-yellow-500">700</span>
                </div>
            </div>
        );

        // クイズ画面（共通コンポーネント）
        const QuizSession = ({ data, mode, isDrillMode, onComplete }) => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [selected, setSelected] = useState(null); // null, index
            const [isCorrect, setIsCorrect] = useState(null); // null, true, false
            const [timeLeft, setTimeLeft] = useState(mode === 'reading' ? 20 : mode === 'listening' ? 15 : 5); // 制限時間
            const [streak, setStreak] = useState(0); // セッション内の正解数
            const [showExplanation, setShowExplanation] = useState(false);
            const [drillStreak, setDrillStreak] = useState({}); // アイテムごとの連続正解数 {id: count}
            
            const currentItem = data[currentIndex];
            
            // 選択肢の生成（初回レンダリング時のみシャッフル）
            const choices = useMemo(() => {
                if (!currentItem) return [];
                if (mode === 'vocab') {
                    const wrongs = currentItem.choices;
                    const correct = currentItem.meaning;
                    return shuffleArray([...wrongs, correct]);
                } else if (mode === 'reading') {
                    // Readingは固定順序（A,B,C,D）
                    return currentItem.choices; 
                } else {
                    return currentItem.options;
                }
            }, [currentItem]);

            // タイマー
            useEffect(() => {
                if (showExplanation || !currentItem) return;
                
                const timer = setInterval(() => {
                    setTimeLeft((prev) => {
                        if (prev <= 1) {
                            clearInterval(timer);
                            handleTimeUp();
                            return 0;
                        }
                        return prev - 1;
                    });
                }, 1000);
                return () => clearInterval(timer);
            }, [currentIndex, showExplanation]);

            // リスニングの場合は自動再生
            useEffect(() => {
                if (mode === 'listening' && currentItem && !showExplanation) {
                    // 少し遅延させて再生
                    const t = setTimeout(() => speak(currentItem.script), 500);
                    return () => clearTimeout(t);
                }
            }, [currentItem, showExplanation]);

            const handleTimeUp = () => {
                setIsCorrect(false);
                setShowExplanation(true);
            };

            const handleAnswer = (choice, index) => {
                if (showExplanation) return;
                
                setSelected(index);
                let correct = false;

                if (mode === 'vocab') {
                    correct = choice === currentItem.meaning;
                } else {
                    correct = index === currentItem.correct;
                }

                setIsCorrect(correct);
                
                // データ保存（ローカルストレージ用ロジックへの準備）
                updateProgress(currentItem.id, correct);

                if (correct) {
                    setStreak(s => s + 1);
                    // 正解ならすぐに次へ（特訓モードオフの場合、またはリスニング/リーディング以外）
                    // 少し待って次へ
                    setTimeout(() => {
                        if (mode === 'vocab') {
                            nextQuestion();
                        } else {
                            setShowExplanation(true); // 文法・リスニングは解説出す
                        }
                    }, 800);
                } else {
                    setStreak(0);
                    setShowExplanation(true); // 間違えたら解説
                }
            };

            const updateProgress = (id, isCorrectNow) => {
                const savedData = JSON.parse(localStorage.getItem('toeic_progress') || '{}');
                const itemData = savedData[id] || { streak: 0, mastered: false };
                
                if (isCorrectNow) {
                    itemData.streak += 1;
                    // 特訓モード: 2回連続正解でMastered. 通常モード: 1回でMastered
                    const threshold = isDrillMode ? 2 : 1;
                    if (itemData.streak >= threshold) {
                        itemData.mastered = true;
                    }
                } else {
                    itemData.streak = 0; // 間違えたらリセット
                    // itemData.mastered = false; // 厳しいモードならここを有効化
                }
                
                savedData[id] = itemData;
                localStorage.setItem('toeic_progress', JSON.stringify(savedData));
                setDrillStreak(savedData);
            };

            const nextQuestion = () => {
                if (currentIndex >= data.length - 1) {
                    onComplete(streak);
                } else {
                    setCurrentIndex(prev => prev + 1);
                    setSelected(null);
                    setIsCorrect(null);
                    setShowExplanation(false);
                    // 時間リセット
                    setTimeLeft(mode === 'reading' ? 20 : mode === 'listening' ? 15 : 5);
                }
            };

            if (!currentItem) return <div className="p-8 text-center">完了！</div>;

            // プログレスバーの色（制限時間警告）
            const timerColor = timeLeft <= 3 ? "bg-red-500" : "bg-blue-500";

            return (
                <div className="flex flex-col h-screen bg-slate-900 pb-safe">
                    <Header title={mode === 'vocab' ? 'Vocabulary' : mode === 'listening' ? 'Listening' : 'Reading'} sub={`${currentIndex + 1} / ${data.length}`} onBack={() => onComplete(streak)} />
                    
                    {/* Timer Bar */}
                    <div className="w-full h-1 bg-slate-800">
                        <div 
                            className={`h-full ${timerColor} transition-all duration-1000 ease-linear`} 
                            style={{ width: `${(timeLeft / (mode === 'reading' ? 20 : mode === 'listening' ? 15 : 5)) * 100}%` }}
                        ></div>
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 pb-24">
                        
                        {/* Question Area */}
                        <div className="mb-8 mt-4 text-center">
                            {mode === 'vocab' && (
                                <div>
                                    <span className="inline-block px-3 py-1 mb-4 text-xs font-bold text-slate-900 bg-yellow-500 rounded-full">
                                        LEVEL {currentItem.level}
                                    </span>
                                    <h2 className="text-4xl font-bold text-white mb-2 tracking-wide">{currentItem.word}</h2>
                                    {isDrillMode && (
                                        <div className="text-xs text-slate-500 mt-2 flex items-center justify-center gap-1">
                                            <i data-lucide="dumbell" className="w-3 h-3"></i> 
                                            特訓中: {JSON.parse(localStorage.getItem('toeic_progress') || '{}')[currentItem.id]?.streak || 0}/2
                                        </div>
                                    )}
                                </div>
                            )}

                            {mode === 'reading' && (
                                <div className="text-left glass-panel p-6 rounded-xl border border-slate-700">
                                    <p className="text-lg leading-relaxed font-medium">{currentItem.question}</p>
                                </div>
                            )}

                            {mode === 'listening' && (
                                <div className="flex flex-col items-center justify-center py-10">
                                    <button 
                                        onClick={() => speak(currentItem.script)}
                                        className="w-20 h-20 rounded-full bg-slate-800 border-2 border-yellow-500 flex items-center justify-center shadow-[0_0_20px_rgba(234,179,8,0.2)] btn-press"
                                    >
                                        <i data-lucide="volume-2" className="w-10 h-10 text-yellow-500"></i>
                                    </button>
                                    <p className="mt-4 text-sm text-slate-400">Tap to replay</p>
                                </div>
                            )}
                        </div>

                        {/* Choices */}
                        <div className="space-y-3">
                            {choices.map((choice, idx) => {
                                let btnClass = "w-full p-4 rounded-xl text-left font-semibold text-lg transition-all border border-slate-700 bg-slate-800 hover:bg-slate-700 btn-press";
                                
                                // 正誤判定時の色付け
                                if (selected !== null) {
                                    if (mode === 'vocab') {
                                        if (choice === currentItem.meaning) btnClass = "w-full p-4 rounded-xl text-left font-bold border border-green-500 bg-green-900/30 text-green-400";
                                        else if (idx === selected) btnClass = "w-full p-4 rounded-xl text-left border border-red-500 bg-red-900/30 text-red-400";
                                    } else {
                                        if (idx === currentItem.correct) btnClass = "w-full p-4 rounded-xl text-left font-bold border border-green-500 bg-green-900/30 text-green-400";
                                        else if (idx === selected) btnClass = "w-full p-4 rounded-xl text-left border border-red-500 bg-red-900/30 text-red-400";
                                    }
                                }

                                return (
                                    <button 
                                        key={idx} 
                                        onClick={() => handleAnswer(choice, idx)}
                                        disabled={selected !== null}
                                        className={btnClass}
                                    >
                                        <span className="inline-block w-6 h-6 rounded-full bg-slate-900 text-slate-500 text-xs text-center leading-6 mr-3">
                                            {String.fromCharCode(65 + idx)}
                                        </span>
                                        {choice}
                                    </button>
                                );
                            })}
                        </div>
                    </div>

                    {/* Explanation Modal (Overlay) */}
                    {showExplanation && (
                        <div className="fixed bottom-0 left-0 w-full bg-slate-800 rounded-t-3xl border-t border-slate-600 p-6 z-50 animate-slide-up shadow-2xl">
                            <div className="flex items-center gap-3 mb-4">
                                {isCorrect ? (
                                    <div className="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center">
                                        <i data-lucide="check" className="text-white w-5 h-5"></i>
                                    </div>
                                ) : (
                                    <div className="w-8 h-8 rounded-full bg-red-500 flex items-center justify-center">
                                        <i data-lucide="x" className="text-white w-5 h-5"></i>
                                    </div>
                                )}
                                <h3 className="text-xl font-bold">{isCorrect ? 'Correct!' : 'Incorrect'}</h3>
                            </div>
                            
                            {mode !== 'vocab' && (
                                <div className="mb-4 text-slate-300 text-sm leading-relaxed">
                                    <span className="block text-xs text-slate-500 uppercase font-bold mb-1">Explanation</span>
                                    {currentItem.explanation}
                                </div>
                            )}

                            {mode === 'listening' && (
                                <div className="mb-6 p-3 bg-slate-900 rounded-lg text-sm text-slate-400 italic">
                                    "{currentItem.script}"
                                </div>
                            )}

                            <button 
                                onClick={nextQuestion}
                                className="w-full py-4 bg-yellow-500 hover:bg-yellow-400 text-slate-900 font-bold rounded-xl btn-press"
                            >
                                Next Question
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        // ホーム画面
        const Home = ({ onStart }) => {
            const [drillMode, setDrillMode] = useState(false);
            const [progress, setProgress] = useState({ mastered: 0, total: VOCAB_DATA.length });

            useEffect(() => {
                // Lucide Icons reload
                if (window.lucide) window.lucide.createIcons();
                
                // Calculate progress
                const saved = JSON.parse(localStorage.getItem('toeic_progress') || '{}');
                const masteredCount = Object.values(saved).filter(i => i.mastered).length;
                setProgress({ mastered: masteredCount, total: VOCAB_DATA.length });
            }, []);

            return (
                <div className="min-h-screen bg-slate-900 text-white p-6 pb-24">
                    {/* Header Area */}
                    <div className="flex justify-between items-start mb-8 mt-2">
                        <div>
                            <p className="text-sm text-slate-400 mb-1">Remaining</p>
                            <h1 className="text-3xl font-bold font-mono gold-text">7 DAYS</h1>
                        </div>
                        <div className="text-right">
                            <p className="text-sm text-slate-400">Target</p>
                            <div className="flex items-baseline justify-end gap-1">
                                <span className="text-2xl font-bold text-yellow-500">700</span>
                                <span className="text-xs text-slate-500">pts</span>
                            </div>
                        </div>
                    </div>

                    {/* Main Progress Card */}
                    <div className="glass-panel p-6 rounded-2xl mb-8 relative overflow-hidden">
                        <div className="absolute top-0 right-0 p-4 opacity-10">
                            <i data-lucide="award" className="w-24 h-24 text-yellow-500"></i>
                        </div>
                        <h2 className="text-lg font-semibold mb-2">Vocabulary Mastery</h2>
                        <div className="flex items-end gap-2 mb-2">
                            <span className="text-4xl font-bold">{progress.mastered}</span>
                            <span className="text-slate-400 mb-1">/ {progress.total} words</span>
                        </div>
                        <ProgressBar current={progress.mastered} total={progress.total} />
                        <p className="text-xs text-slate-400">
                            {progress.mastered / progress.total * 100 < 50 ? "Keep pushing! Foundation is key." : "Excellent pace!"}
                        </p>
                    </div>

                    {/* Drill Mode Toggle */}
                    <div 
                        onClick={() => setDrillMode(!drillMode)}
                        className={`flex items-center justify-between p-4 rounded-xl mb-8 cursor-pointer transition-all border ${drillMode ? 'bg-indigo-900/40 border-indigo-500' : 'bg-slate-800 border-slate-700'}`}
                    >
                        <div className="flex items-center gap-3">
                            <div className={`p-2 rounded-lg ${drillMode ? 'bg-indigo-500 text-white' : 'bg-slate-700 text-slate-400'}`}>
                                <i data-lucide="flame" className="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 className={`font-bold ${drillMode ? 'text-indigo-200' : 'text-slate-300'}`}>Spartan Mode</h3>
                                <p className="text-xs text-slate-500">2x streak required to master</p>
                            </div>
                        </div>
                        <div className={`w-12 h-6 rounded-full p-1 transition-colors ${drillMode ? 'bg-indigo-500' : 'bg-slate-600'}`}>
                            <div className={`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform ${drillMode ? 'translate-x-6' : 'translate-x-0'}`}></div>
                        </div>
                    </div>

                    {/* Mode Selection Grid */}
                    <h3 className="text-sm font-bold text-slate-500 uppercase mb-4 tracking-wider">Start Training</h3>
                    <div className="grid grid-cols-2 gap-4">
                        <button 
                            onClick={() => onStart('vocab', drillMode)}
                            className="glass-panel p-5 rounded-xl text-left hover:bg-slate-800 transition border border-slate-700 btn-press group"
                        >
                            <div className="bg-yellow-500/20 w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:bg-yellow-500/30 transition">
                                <i data-lucide="book-open" className="text-yellow-500 w-5 h-5"></i>
                            </div>
                            <h3 className="font-bold text-lg mb-1">Vocab</h3>
                            <p className="text-xs text-slate-400">Speed Quiz</p>
                        </button>

                        <button 
                            onClick={() => onStart('reading', drillMode)}
                            className="glass-panel p-5 rounded-xl text-left hover:bg-slate-800 transition border border-slate-700 btn-press group"
                        >
                            <div className="bg-blue-500/20 w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:bg-blue-500/30 transition">
                                <i data-lucide="glasses" className="text-blue-500 w-5 h-5"></i>
                            </div>
                            <h3 className="font-bold text-lg mb-1">Reading</h3>
                            <p className="text-xs text-slate-400">Part 5 Drills</p>
                        </button>

                        <button 
                            onClick={() => onStart('listening', drillMode)}
                            className="glass-panel p-5 rounded-xl text-left hover:bg-slate-800 transition border border-slate-700 btn-press group col-span-2"
                        >
                            <div className="flex items-center justify-between">
                                <div>
                                    <div className="bg-green-500/20 w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:bg-green-500/30 transition">
                                        <i data-lucide="headphones" className="text-green-500 w-5 h-5"></i>
                                    </div>
                                    <h3 className="font-bold text-lg mb-1">Listening Simulation</h3>
                                    <p className="text-xs text-slate-400">Part 2 Response (TTS)</p>
                                </div>
                                <div className="bg-slate-800 p-2 rounded-full">
                                    <i data-lucide="play" className="w-6 h-6 ml-1 text-slate-300"></i>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
            );
        };

        // Main App Container
        const App = () => {
            const [view, setView] = useState('home'); // home, vocab, reading, listening
            const [isDrillMode, setIsDrillMode] = useState(false);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            });

            const startSession = (mode, drill) => {
                setIsDrillMode(drill);
                setView(mode);
            };

            const finishSession = () => {
                setView('home');
            };

            // 苦手克服（未習得）データのフィルタリング
            const getFilteredVocab = () => {
                const saved = JSON.parse(localStorage.getItem('toeic_progress') || '{}');
                // 未習得（mastered: trueでない）かつ レベル順
                const raw = VOCAB_DATA.filter(v => {
                    const status = saved[v.id];
                    return !status || !status.mastered;
                });
                
                // データが空なら全部返す（全問正解時）
                return raw.length > 0 ? raw : VOCAB_DATA;
            };

            return (
                <div className="max-w-md mx-auto min-h-screen bg-slate-900 shadow-2xl overflow-hidden relative">
                    {view === 'home' && <Home onStart={startSession} />}
                    {view === 'vocab' && <QuizSession data={getFilteredVocab()} mode="vocab" isDrillMode={isDrillMode} onComplete={finishSession} />}
                    {view === 'reading' && <QuizSession data={READING_DATA} mode="reading" isDrillMode={isDrillMode} onComplete={finishSession} />}
                    {view === 'listening' && <QuizSession data={LISTENING_DATA} mode="listening" isDrillMode={isDrillMode} onComplete={finishSession} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
